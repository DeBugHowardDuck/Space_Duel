{% extends "base.html" %}
{% block title %}–í—ã–±–æ—Ä –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ ‚Äî Space Duel{% endblock %}
{% block content %}

<div class="card">
  <h2 class="title">–í—ã–±–æ—Ä –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞</h2>

  <form method="post" action="{{ url_for('web.choose_enemy_submit') }}">
        <div class="field" style="margin-top:8px;">
      <label class="label" for="enemy-name">–ò–º—è</label>
      <input
        id="enemy-name"
        class="input"
        type="text"
        name="name"
        value="{{ selected_name or 'Enemy' }}"
        placeholder="–ò–º—è –≤—Ä–∞–≥–∞"
        maxlength="24"
        autocomplete="nickname"
      >
    </div>


    <div class="form-section">
      <div class="title">–ö–ª–∞—Å—Å –∫–æ—Ä–∞–±–ª—è</div>
      <div class="options-grid">
        {# ... —Ç–≤–æ–π —Ü–∏–∫–ª .option –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... #}
        {% for slug, cls in classes.items() %}
          <div class="option">
            <input type="radio" id="cls-{{ slug }}" name="unit_class" value="{{ slug }}" {% if selected_class == slug %}checked{% endif %}>
            <label for="cls-{{ slug }}">
              <div class="title">{{ cls.name }}</div>
              <div class="muted">–ö–æ—Ä–ø—É—Å: {{ cls.hull_max }} ¬∑ –≠–Ω–µ—Ä–≥–∏—è: {{ cls.energy_max }}</div>
              <div class="muted">–ú–æ–¥–∏—Ñ.: —É—Ä–æ–Ω √ó{{ "%.1f"|format(cls.attack_mod) }}, —â–∏—Ç √ó{{ "%.1f"|format(cls.shield_mod) }}</div>
            </label>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="form-section">
      <div class="title">–û—Ä—É–∂–∏–µ</div>
      <div class="options-grid">
        {# ... —Ç–≤–æ–π —Ü–∏–∫–ª .option –ø–æ weapons –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... #}
        {% for slug, w in weapons.items() %}
          <div class="option">
            <input type="radio" id="w-{{ slug }}" name="weapon" value="{{ slug }}" {% if selected_weapon == slug %}checked{% endif %}>
            <label for="w-{{ slug }}">
              <div class="title">{{ w.name }}</div>
              <div class="muted">{{ w.kind|capitalize }} ¬∑ –≠–Ω–µ—Ä–≥–∏—è: {{ w.energy_cost }}</div>
              <div class="muted">–£—Ä–æ–Ω: {{ w.dmg_min }}‚Äì{{ w.dmg_max }} ¬∑ –¢–æ—á–Ω.: {{ (w.accuracy * 100)|round(0) }}%</div>
              <div class="muted">–ò–≥–Ω–æ—Ä —â–∏—Ç–∞: {{ (w.shield_ignore * 100)|round(0) }}%</div>
            </label>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="form-section">
      <div class="title">–©–∏—Ç</div>
      <div class="options-grid">
        {# ... —Ç–≤–æ–π —Ü–∏–∫–ª .option –ø–æ shields –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... #}
        {% for slug, s in shields.items() %}
          <div class="option">
            <input type="radio" id="s-{{ slug }}" name="shield" value="{{ slug }}" {% if selected_shield == slug %}checked{% endif %}>
            <label for="s-{{ slug }}">
              <div class="title">{{ s.name }}</div>
              <div class="muted">–Å–º–∫–æ—Å—Ç—å: {{ s.capacity }} ¬∑ –≠—Ñ—Ñ.: {{ (s.efficiency * 100)|round(0) }}%</div>
              <div class="muted">–†–µ–≥–µ–Ω: {{ s.regen }}/—Ö–æ–¥</div>
            </label>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="form-section">
      <div class="title">–°–ª–æ–∂–Ω–æ—Å—Ç—å –ò–ò</div>

      <div class="segmented" role="radiogroup" aria-label="–°–ª–æ–∂–Ω–æ—Å—Ç—å –ò–ò">
        <input type="radio" id="dif-easy"   name="difficulty" value="easy"
               {% if selected_difficulty=='easy' or not selected_difficulty %}checked{% endif %}>
        <label for="dif-easy">–õ—ë–≥–∫–∞—è</label>

        <input type="radio" id="dif-normal" name="difficulty" value="normal"
               {% if selected_difficulty=='normal' %}checked{% endif %}>
        <label for="dif-normal">–ù–æ—Ä–º–∞–ª—å–Ω–∞—è</label>

        <input type="radio" id="dif-hard"   name="difficulty" value="hard"
               {% if selected_difficulty=='hard' %}checked{% endif %}>
        <label for="dif-hard">–°–ª–æ–∂–Ω–∞—è</label>
      </div>

      <div class="muted" style="margin-top:6px;">
        –õ—ë–≥–∫–∞—è ‚Äî –ò–ò —á–∞—â–µ –ø–∞—Å—Å—É–µ—Ç –∏ —Ç—Ä–∞—Ç–∏—Ç —Å–∫–∏–ª–ª—ã –Ω–µ–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ; –°–ª–æ–∂–Ω–∞—è ‚Äî –¥–µ—Ä–∂–∏—Ç —ç–Ω–µ—Ä–≥–∏—é, –±—å—ë—Ç –≤ –æ–∫–Ω–æ, –∞–∫—Ç–∏–≤–Ω–µ–µ —é–∑–∞–µ—Ç EMP/Overcharge.
      </div>
    </div>


    <div class="form-actions">
      <a class="button ghost" href="{{ url_for('web.choose_hero_form') }}" title="–ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –≤–∞—à–µ–≥–æ –∫–æ—Ä–∞–±–ª—è">‚Üê –ù–∞–∑–∞–¥</a>
      <button type="submit" class="button" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä –∏ –Ω–∞—á–∞—Ç—å –±–æ–π">–ù–∞—á–∞—Ç—å –±–æ–π üöÄ</button>
    </div>
  </form>
</div>

{% endblock %}
